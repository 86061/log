
    <html>
    <head><title>Blogging Using Netlify Function to Write to Github</title></head>
    <body>
      <h1>Blogging Using Netlify Function to Write to Github</h1>
      <p>Author: Master</p>
      <p>Body: <div class="WaaZC">
<div class="RJPOee EIJn2">
<div class="rPeykc" data-hveid="CAIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIAhAB">To blog using a Netlify function to write to GitHub, you can&nbsp;<mark class="QVRyCf">create a serverless function within your Netlify project that will handle incoming blog post data from your frontend, then use a GitHub API to push the new post content as a new file to your designated GitHub repository</mark>, effectively updating your blog on the backend whenever you publish a new post on your site.<span class="UV3uM">&nbsp;</span>
<div class="NPrrbc" data-cid="040ce0db-8e15-433a-9ec5-d1e1fb6f6070">
<div class="BMebGe btku5b fCrZyc LwdV0e FR7ZSc OJeuxf" tabindex="0" role="button" aria-label="View related links" data-hveid="CAUQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQ3fYKegQIBRAB">
<div class="niO4u">
<div class="kHtcsd">&nbsp;</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="WaaZC">
<div class="RJPOee EIJn2">
<div class="rPeykc pyPiTc" data-hveid="CAkQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQICRAB">Key steps involved:</div>
</div>
</div>
<div class="WaaZC">
<div class="RJPOee EIJn2">
<ul data-hveid="CAwQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQm_YKegQIDBAB">
<li class="K3KsMc">
<div class="zMgcWd dSKvsb" data-il="">
<div data-crb-p="">
<div class="xFTqob">
<div class="Gur8Ad"><strong>Set up Netlify and GitHub Integration:</strong></div>
<div class="vM0jzc">
<ul data-hveid="CCsQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQm_YKegQIKxAB">
<li>Create a GitHub repository for your blog content.<span class="UV3uM">&nbsp;</span>
<div class="NPrrbc" data-cid="070d987c-cd7d-43f7-8b68-b14a51c29180">
<div class="BMebGe btku5b fCrZyc LwdV0e FR7ZSc OJeuxf" tabindex="0" role="button" aria-label="View related links" data-hveid="CA4QAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQ3fYKegQIDhAB">
<div class="niO4u">
<div class="kHtcsd">&nbsp;</div>
</div>
</div>
</div>
</li>
<li>Connect your GitHub account to Netlify and authorize access to your repository.<span class="UV3uM">&nbsp;</span>
<div class="NPrrbc" data-cid="90bf27e4-241c-461a-9a9c-d20a6e3cf3ef">
<div class="BMebGe btku5b fCrZyc LwdV0e FR7ZSc OJeuxf" tabindex="0" role="button" aria-label="View related links" data-hveid="CCYQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQ3fYKegQIJhAB">
<div class="niO4u">
<div class="kHtcsd">&nbsp;</div>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</li>
<li class="K3KsMc">
<div class="zMgcWd dSKvsb" data-il="">
<div data-crb-p="">
<div class="xFTqob">
<div class="Gur8Ad"><strong>Create a Netlify Function:</strong></div>
<div class="vM0jzc">
<ul data-hveid="CCoQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQm_YKegQIKhAB">
<li>In your Netlify project, create a new JavaScript file (e.g.,&nbsp;<code class="mv6bHd">create-blog-post.js</code>) to house your function.<span class="UV3uM">&nbsp;</span>
<div class="NPrrbc" data-cid="ca4700ff-e3a9-4ecb-b699-dace93699c2f">
<div class="BMebGe btku5b fCrZyc LwdV0e FR7ZSc OJeuxf" tabindex="0" role="button" aria-label="View related links" data-hveid="CBoQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQ3fYKegQIGhAB">
<div class="niO4u">
<div class="kHtcsd">&nbsp;</div>
</div>
</div>
</div>
</li>
<li>Within the function, implement the logic to:
<ul data-hveid="CCcQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQm_YKegQIJxAB">
<li>Receive the blog post data (title, content, etc.) from your frontend form submission.</li>
<li>Generate the necessary markdown or HTML file structure for your blog post.</li>
<li>Authenticate with your GitHub account using a GitHub Personal Access Token (PAT) stored securely as an environment variable.</li>
<li>Use the GitHub API to create a new file in your blog repository with the generated post content.<span class="UV3uM">&nbsp;</span>
<div class="NPrrbc" data-cid="cc07863e-47bc-4af6-b58a-b5097ad3a95e">
<div class="BMebGe btku5b fCrZyc LwdV0e FR7ZSc OJeuxf" tabindex="0" role="button" aria-label="View related links" data-hveid="CB4QAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQ3fYKegQIHhAB">
<div class="niO4u">
<div class="kHtcsd">&nbsp;</div>
</div>
</div>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
<div id="_LE1aZ56JFIXhseMP3__24QM_19"></div>
<div class="WaaZC">
<div class="RJPOee EIJn2">
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">Example Code Snippet (Netlify Function):</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">&nbsp;</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">&nbsp;</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">&nbsp;</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">&nbsp;</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">&nbsp;</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">
<blockquote>
<pre>exports.handler = async (event, context) =&gt; {<br><br>&nbsp; const { title, content } = event.body;<br><br><br><br>&nbsp; // Generate markdown content<br><br>&nbsp; const markdownContent = `<br><br>&nbsp; &nbsp; # ${title}<br><br>&nbsp; &nbsp;&nbsp;<br><br>&nbsp; &nbsp; ${content}<br><br>&nbsp; `;<br><br><br><br>&nbsp; // GitHub API details<br><br>&nbsp; const GITHUB_TOKEN = process.env.GITHUB_TOKEN;<br><br>&nbsp; const REPO_NAME = "my-blog-repo";<br><br>&nbsp; const REPO_OWNER = "my-username";<br><br><br><br>&nbsp; try {<br><br>&nbsp; &nbsp; const response = await fetch(`https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/posts/new-post.md`, {<br><br>&nbsp; &nbsp; &nbsp; method: "PUT",<br><br>&nbsp; &nbsp; &nbsp; headers: {<br><br>&nbsp; &nbsp; &nbsp; &nbsp; "Authorization": `Bearer ${GITHUB_TOKEN}`,<br><br>&nbsp; &nbsp; &nbsp; &nbsp; "Content-Type": "application/json"<br><br>&nbsp; &nbsp; &nbsp; },<br><br>&nbsp; &nbsp; &nbsp; body: JSON.stringify({<br><br>&nbsp; &nbsp; &nbsp; &nbsp; message: "New blog post created",<br><br>&nbsp; &nbsp; &nbsp; &nbsp; content: Buffer.from(markdownContent).toString("base64")<br><br>&nbsp; &nbsp; &nbsp; })<br><br>&nbsp; &nbsp; });<br><br><br><br>&nbsp; &nbsp; if (response.ok) {<br><br>&nbsp; &nbsp; &nbsp; return {&nbsp;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; statusCode: 200,&nbsp;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; body: "Blog post created successfully!"<br><br>&nbsp; &nbsp; &nbsp; };<br><br>&nbsp; &nbsp; } else {<br><br>&nbsp; &nbsp; &nbsp; return {&nbsp;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; statusCode: 500,&nbsp;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; body: "Error creating blog post"<br><br>&nbsp; &nbsp; &nbsp; };<br><br>&nbsp; &nbsp; }<br><br><br><br>&nbsp; } catch (error) {<br><br>&nbsp; &nbsp; console.error(error);<br><br>&nbsp; &nbsp; return {&nbsp;<br><br>&nbsp; &nbsp; &nbsp; statusCode: 500,&nbsp;<br><br>&nbsp; &nbsp; &nbsp; body: "An error occurred"<br><br>&nbsp; &nbsp; };<br><br>&nbsp; }<br><br>};</pre>
</blockquote>
</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">&nbsp;</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">&nbsp;</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">&nbsp;</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">&nbsp;</div>
<div class="rPeykc pyPiTc" data-hveid="CDIQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIMhAB">
<div class="WaaZC">
<div class="RJPOee EIJn2">
<div class="rPeykc pyPiTc" data-hveid="CDgQAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQo_EKegQIOBAB">Important Considerations:</div>
</div>
</div>
<div class="WaaZC">
<div class="RJPOee EIJn2">
<ul data-hveid="CD4QAQ" data-ved="2ahUKEwiez8agmqGKAxWFcGwGHd-_PTwQm_YKegQIPhAB">
<li class="K3KsMc">
<div class="zMgcWd dSKvsb" data-il="">
<div data-crb-p="">
<div class="xFTqob">
<div class="Gur8Ad"><strong>Security:</strong></div>
<div class="vM0jzc">Always store your GitHub Personal Access Token securely as an environment variable on Netlify.</div>
</div>
</div>
</div>
</li>
<li class="K3KsMc">
<div class="zMgcWd dSKvsb" data-il="">
<div data-crb-p="">
<div class="xFTqob">
<div class="Gur8Ad"><strong>File Structure:</strong></div>
<div class="vM0jzc">Define a clear directory structure within your GitHub repository to organize blog posts.</div>
</div>
</div>
</div>
</li>
<li class="K3KsMc">
<div class="zMgcWd dSKvsb" data-il="">
<div data-crb-p="">
<div class="xFTqob">
<div class="Gur8Ad"><strong>Error Handling:</strong></div>
<div class="vM0jzc">Implement robust error handling in your Netlify function to catch potential issues with API requests or data validation.<span class="UV3uM">&nbsp;</span></div>
<div class="vM0jzc">&nbsp;</div>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div></p>
    </body>
    </html>
  